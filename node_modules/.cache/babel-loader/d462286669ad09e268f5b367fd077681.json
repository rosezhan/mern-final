{"ast":null,"code":"var _jsxFileName = \"/Users/rosezhan/Documents/GitHub/mern-final/src/components/CreateWorkout.js\";\nimport React from 'react';\nimport jwt_decode from \"jwt-decode\";\nvar name = \"\";\n\nif (localStorage.getItem(\"jwtToken\") != null) {\n  var b = localStorage.getItem(\"jwtToken\"); // console.log(b);\n\n  const decoded = jwt_decode(b);\n  name = decoded.name; // console.log(name);\n} else {\n  name = \"No User\";\n}\n\nclass CreateWorkout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: ''\n    };\n    this.state = {\n      length: ''\n    };\n    this.state = {\n      data: []\n    }; // this.handleChangeTitle = this.handleChangeTitle.bind(this);\n\n    this.handleChangeLength = this.handleChangeLength.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    if (localStorage.getItem(\"jwtToken\") == null) {\n      window.location.replace(\"/login\");\n    }\n\n    await fetch('http://localhost:5000/exercises').then(response => response.json()).then(data => this.setState({\n      data\n    }));\n  } // handleChangeTitle(event) {\n  //   this.setState({title: event.target.value});   \n  // }\n\n\n  handleChangeLength(event) {\n    this.setState({\n      length: event.target.value\n    });\n  }\n\n  handleSelect(event) {\n    // console.log(event.target.value);\n    this.setState({\n      title: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    // alert('An exercise was submitted: ' + this.state.title);\n    event.preventDefault();\n    await fetch('http://localhost:5000/workouts', {\n      method: 'post',\n      // mode: 'no-cors',\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json; charset=UTF-8'\n      },\n      body: JSON.stringify({\n        \"title\": this.state.title,\n        \"length\": this.state.length,\n        \"user\": name\n      })\n    });\n    this.setState({\n      title: ''\n    });\n    this.setState({\n      length: ''\n    });\n    window.location.href = \"/showworkouts\";\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"Create Workout\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-input-field\",\n      style: {\n        textAlign: \"center\",\n        margin: \"0 auto\",\n        paddingLeft: \"25px\"\n      },\n      id: \"select\",\n      onChange: this.handleSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, this.state.data.map(item => /*#__PURE__*/React.createElement(\"option\", {\n      key: item._id,\n      value: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, item.title))), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"custom-input-field\",\n      type: \"text\",\n      value: this.state.length,\n      placeholder: \"Duration (min)\",\n      onChange: this.handleChangeLength,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nexport default CreateWorkout;","map":{"version":3,"sources":["/Users/rosezhan/Documents/GitHub/mern-final/src/components/CreateWorkout.js"],"names":["React","jwt_decode","name","localStorage","getItem","b","decoded","CreateWorkout","Component","constructor","props","state","title","length","data","handleChangeLength","bind","handleSelect","handleSubmit","componentDidMount","window","location","replace","fetch","then","response","json","setState","event","target","value","preventDefault","method","headers","body","JSON","stringify","href","render","textAlign","margin","paddingLeft","map","item","_id"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport jwt_decode from \"jwt-decode\";\n\n\n\nvar name=\"\";\n\nif(localStorage.getItem(\"jwtToken\") != null){\nvar b = localStorage.getItem(\"jwtToken\");\n// console.log(b);\nconst decoded = jwt_decode(b);\nname = decoded.name;\n// console.log(name);\n}else{\n  name=\"No User\";  \n}\n\n\nclass CreateWorkout extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {title: ''};\n      this.state = {length: ''};\n      this.state = {data: []};\n        \n      // this.handleChangeTitle = this.handleChangeTitle.bind(this);\n      this.handleChangeLength = this.handleChangeLength.bind(this);      \n      this.handleSelect = this.handleSelect.bind(this);      \n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    async componentDidMount() {\n\n        if(localStorage.getItem(\"jwtToken\") == null){\n          window.location.replace(\"/login\");\n        }\n      await fetch('http://localhost:5000/exercises')\n        .then(response => response.json())\n        .then(data => this.setState({ data }));\n        \n\n    }\n\n    // handleChangeTitle(event) {\n    //   this.setState({title: event.target.value});   \n    // }\n\n    handleChangeLength(event) {\n        \n      this.setState({length: event.target.value});       \n      \n    }\n\n    handleSelect(event){\n      // console.log(event.target.value);\n      this.setState({title: event.target.value}); \n    }\n    \n    async handleSubmit(event) {\n      // alert('An exercise was submitted: ' + this.state.title);\n      event.preventDefault();\n       await fetch('http://localhost:5000/workouts', {\n        method: 'post',\n        // mode: 'no-cors',\n        headers:{\n          'Accept': 'application/json',\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n        body: JSON.stringify({\n            \"title\": this.state.title,\n            \"length\": this.state.length,\n            \"user\": name          \n        })\n      });\n\n      this.setState({title: ''});     \n      this.setState({length: ''});  \n      window.location.href = \"/showworkouts\";  \n      \n    }\n    \n    render() {\n      \n      return (       \n        <div className=\"custom-form\">\n          <h1>Create Workout</h1>\n          <div className=\"custom-input\">\n          <form onSubmit={this.handleSubmit}>\n            <select className=\"custom-input-field\" style={{textAlign:\"center\",margin:\"0 auto\",paddingLeft:\"25px\"}} id=\"select\" onChange={this.handleSelect}>\n              {this.state.data.map(item =>(                \n                <option key={item._id} value={item.title} >{item.title}</option>                \n              ))}\n            </select> \n            <input className=\"custom-input-field\" type=\"text\" value={this.state.length} placeholder=\"Duration (min)\" onChange={this.handleChangeLength} required />\n          <input className=\"btn btn-primary\" type=\"submit\" value=\"Submit\" />\n        </form> \n        </div>       \n      </div>\n      );\n    }\n  }\n\n  export default CreateWorkout;\n"]},"metadata":{},"sourceType":"module"}