{"ast":null,"code":"var _jsxFileName = \"/Users/rosezhan/Documents/GitHub/mern-final/src/components/CreateProfile.js\";\nimport React from 'react';\nimport jwt_decode from \"jwt-decode\";\nvar user = \"\";\n\nif (localStorage.getItem(\"jwtToken\") != null) {\n  var b = localStorage.getItem(\"jwtToken\"); //console.log(b);\n\n  const decoded = jwt_decode(b); //console.log(decoded);\n\n  user = decoded.name; // console.log(user);\n} else {\n  user = \"No Profile\";\n}\n\nclass CreateProfile extends React.Component {\n  constructor(props) {\n    super(props); //this.state = {user: ''};\n\n    this.state = {\n      gender: ''\n    };\n    this.state = {\n      age: ''\n    };\n    this.state = {\n      city: ''\n    };\n    this.handleChangeGender = this.handleChangeGender.bind(this);\n    this.handleChangeAge = this.handleChangeAge.bind(this);\n    this.handleChangeCity = this.handleChangeCity.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChangeGender(event) {\n    this.setState({\n      gender: event.target.value\n    });\n  }\n\n  handleChangeAge(event) {\n    this.setState({\n      age: event.target.value\n    });\n  }\n\n  handleChangeCity(event) {\n    this.setState({\n      city: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    //alert(user);\n    if (localStorage.getItem(\"jwtToken\") == null) {\n      window.location.replace(\"/login\");\n    }\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    await fetch('http://localhost:5000/profiles', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json; charset=UTF-8'\n      },\n      body: JSON.stringify({\n        \"user\": user,\n        \"gender\": this.state.gender,\n        \"age\": this.state.age,\n        \"city\": this.state.city\n      })\n    }); // console.log(result);\n\n    this.setState({\n      gender: ''\n    });\n    this.setState({\n      age: ''\n    });\n    this.setState({\n      city: ''\n    });\n    window.location.href = \"/exercises\";\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, \"Create your REACTion21 profile\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"custom-input-field\",\n      id: \"gender\",\n      type: \"text\",\n      placeholder: \"Enter your gender\",\n      value: this.state.gender,\n      onChange: this.handleChangeGender,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"custom-input-field\",\n      id: \"age\",\n      type: \"text\",\n      placeholder: \"Enter your age\",\n      value: this.state.age,\n      onChange: this.handleChangeAge,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"custom-input-field\",\n      id: \"city\",\n      type: \"text\",\n      placeholder: \"Enter your city\",\n      value: this.state.city,\n      onChange: this.handleChangeCity,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default CreateProfile;","map":{"version":3,"sources":["/Users/rosezhan/Documents/GitHub/mern-final/src/components/CreateProfile.js"],"names":["React","jwt_decode","user","localStorage","getItem","b","decoded","name","CreateProfile","Component","constructor","props","state","gender","age","city","handleChangeGender","bind","handleChangeAge","handleChangeCity","handleSubmit","event","setState","target","value","componentDidMount","window","location","replace","preventDefault","fetch","method","headers","body","JSON","stringify","href","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport jwt_decode from \"jwt-decode\";\n\n\n\nvar user=\"\";\n\nif(localStorage.getItem(\"jwtToken\") != null){\nvar b = localStorage.getItem(\"jwtToken\");\n//console.log(b);\nconst decoded = jwt_decode(b);\n//console.log(decoded);\nuser = decoded.name;\n// console.log(user);\n}else{\n  user=\"No Profile\";  \n}\n\n\nclass CreateProfile extends React.Component {\n    constructor(props) {\n      super(props);\n      //this.state = {user: ''};\n      this.state = {gender: ''};\n      this.state = {age: ''};\n      this.state = {city: ''}\n  \n      this.handleChangeGender = this.handleChangeGender.bind(this);\n      this.handleChangeAge = this.handleChangeAge.bind(this);\n      this.handleChangeCity = this.handleChangeCity.bind(this);\n      \n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChangeGender(event) {\n      this.setState({gender: event.target.value});    \n      \n    }\n    handleChangeAge(event) {\n        this.setState({age: event.target.value});    \n        \n    }\n    handleChangeCity(event) {\n        this.setState({city: event.target.value});    \n        \n    }\n    componentDidMount(){\n        //alert(user);\n      if(localStorage.getItem(\"jwtToken\") == null){\n        window.location.replace(\"/login\");\n      }\n    }\n    async handleSubmit(event) {\n     \n      event.preventDefault();\n     \n      await fetch('http://localhost:5000/profiles', {\n        method: 'post',\n        \n        headers:{\n          'Accept': 'application/json',\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n        body: JSON.stringify({\n          \"user\": user,\n          \"gender\": this.state.gender,\n          \"age\": this.state.age,\n          \"city\": this.state.city\n          \n        })\n      });\n      // console.log(result);\n      \n      this.setState({gender: ''});\n      this.setState({age: ''});\n      this.setState({city: ''});\n     \n      window.location.href = \"/exercises\";\n      \n    }\n  \n    render() {\n      return (       \n        <div className=\"custom-form\">\n          <h1>Create your REACTion21 profile</h1>\n          <div className=\"custom-input\">\n          <form onSubmit={this.handleSubmit}>\n            <input className=\"custom-input-field\" id=\"gender\" type=\"text\" placeholder=\"Enter your gender\" value={this.state.gender} onChange={this.handleChangeGender} required />\n            <input className=\"custom-input-field\" id=\"age\" type=\"text\" placeholder=\"Enter your age\" value={this.state.age} onChange={this.handleChangeAge} required />\n            <input  className=\"custom-input-field\"id=\"city\" type=\"text\" placeholder=\"Enter your city\" value={this.state.city} onChange={this.handleChangeCity} required />\n\n            <input className=\"btn btn-primary\" type=\"submit\" value=\"Create\" />\n          </form> \n        </div>\n        </div>\n      );\n    }\n  }\n\n  export default CreateProfile;\n"]},"metadata":{},"sourceType":"module"}