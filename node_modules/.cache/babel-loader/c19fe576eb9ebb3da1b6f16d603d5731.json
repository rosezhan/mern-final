{"ast":null,"code":"var _jsxFileName = \"/Users/rosezhan/Documents/GitHub/mern-final/src/components/ShowProfile.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport Table from 'react-bootstrap/Table';\nimport jwt_decode from \"jwt-decode\";\nvar name = \"\";\n\nif (localStorage.getItem(\"jwtToken\") != null) {\n  var b = localStorage.getItem(\"jwtToken\"); // console.log(b);\n\n  const decoded = jwt_decode(b);\n  name = decoded.name; // console.log(name);\n} else {\n  name = \"No User\";\n}\n\nfunction ShowProfile() {\n  useEffect(() => {\n    fetchItems();\n  }, []);\n  const [profiles, setItems] = useState([]);\n\n  async function handleDelete(event) {\n    event.preventDefault();\n\n    if (window.confirm(\"Are you sure you want to delete?\")) {\n      // alert(\"great\");\n      // console.log(\"the link was clicked\");\n      const url = 'http://localhost:5000/profiles/' + event.target.value; // console.log(event.target.value); \n\n      await fetch(url, {\n        method: 'delete'\n      });\n      fetchItems();\n    }\n  }\n\n  const fetchItems = async () => {\n    if (localStorage.getItem(\"jwtToken\") == null) {\n      window.location.replace(\"/login\");\n    }\n\n    const data = await fetch('http://localhost:5000/profiles/' + name);\n    const profiles = await data.json();\n    console.log(profiles);\n    setItems(profiles);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  }, profiles.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-input-field\",\n    style: {\n      background: \"none\",\n      fontSize: \"25px\",\n      height: \"0.75vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 109\n    }\n  }, item.user)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-input-field\",\n    style: {\n      background: \"none\",\n      fontSize: \"25px\",\n      height: \"0.75vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 109\n    }\n  }, item.gender)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-input-field\",\n    style: {\n      background: \"none\",\n      fontSize: \"25px\",\n      height: \"0.75vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 108\n    }\n  }, item.age), \" years old\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-input-field\",\n    style: {\n      background: \"none\",\n      fontSize: \"25px\",\n      height: \"0.75vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 109\n    }\n  }, item.city)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login100-form-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login100-form-btn\",\n    style: {\n      width: \"150px\"\n    },\n    value: item._id,\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login100-form-btn\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login100-form-btn\",\n    style: {\n      width: \"150px\"\n    },\n    value: item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    id: \"buttonLink\",\n    href: '/profiles/editprofile/' + item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 88\n    }\n  }, \"Edit\"))))))));\n}\n\nexport default ShowProfile;","map":{"version":3,"sources":["/Users/rosezhan/Documents/GitHub/mern-final/src/components/ShowProfile.js"],"names":["React","useState","useEffect","Table","jwt_decode","name","localStorage","getItem","b","decoded","ShowProfile","fetchItems","profiles","setItems","handleDelete","event","preventDefault","window","confirm","url","target","value","fetch","method","location","replace","data","json","console","log","map","item","background","fontSize","height","user","gender","age","city","width","_id","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport '../App.css';\nimport Table from 'react-bootstrap/Table';\nimport jwt_decode from \"jwt-decode\";\n\n\n\nvar name=\"\";\n\nif(localStorage.getItem(\"jwtToken\") != null){\nvar b = localStorage.getItem(\"jwtToken\");\n// console.log(b);\nconst decoded = jwt_decode(b);\nname = decoded.name;\n// console.log(name);\n}else{\n  name=\"No User\";  \n}\n\n\nfunction ShowProfile() {\n    useEffect(()=>{\n        fetchItems();\n    },[]);\nconst [profiles, setItems] = useState([]);\n\nasync function handleDelete(event){\n    event.preventDefault();\n    if (window.confirm(\"Are you sure you want to delete?\")){\n      // alert(\"great\");\n    // console.log(\"the link was clicked\");\n    const url = 'http://localhost:5000/profiles/'+event.target.value;\n    // console.log(event.target.value); \n    await fetch(url, {\n        method: 'delete'\n\n      });        \n      fetchItems();  \n    }       \n}\n\n    const fetchItems = async ()=>{\n      if(localStorage.getItem(\"jwtToken\") == null){\n        window.location.replace(\"/login\");\n      }\n        const data = await fetch('http://localhost:5000/profiles/'+ name);\n        const profiles = await data.json();   \n        console.log (profiles);    \n        setItems(profiles);\n    }\n  return (\n    <div className=\"App\">\n      <div className=\"custom-form\">\n        <h1 id=\"title\">My Profile</h1>\n         <div className=\"custom-input\">\n\n  \n    \n    \n   \n  \n  {profiles.map(item =>(\n    \n    \n      \n\n    <div>\n      <div className=\"custom-input-field\" style={{background: \"none\", fontSize: \"25px\", height: \"0.75vw\"}} ><span>{item.user}</span></div>\n      <div className=\"custom-input-field\" style={{background: \"none\", fontSize: \"25px\", height: \"0.75vw\"}} ><span>{item.gender}</span></div>\n      <div className=\"custom-input-field\" style={{background: \"none\", fontSize: \"25px\", height: \"0.75vw\"}}><span>{item.age}</span> years old</div>\n      <div className=\"custom-input-field\" style={{background: \"none\", fontSize: \"25px\", height: \"0.75vw\"}} ><span>{item.city}</span></div>   \n\n\n\n     <div className=\"container-login100-form-btn\">\n     <button className=\"login100-form-btn\"style={{width: \"150px\"}} value={item._id} onClick={handleDelete}>Delete</button>\n     </div>\n     <div className=\"container-login100-form-btn\" style={{marginTop: \"20px\"}}>\n      <button className=\"login100-form-btn\" style={{width: \"150px\"}} value={item._id} ><a id=\"buttonLink\" href={'/profiles/editprofile/'+item._id}>Edit</a></button>\n      </div>\n    </div>\n    \n    ))} \n  \n\n          </div>               \n         </div>     \n    </div>\n  );\n}\n\nexport default ShowProfile;"]},"metadata":{},"sourceType":"module"}